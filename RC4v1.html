<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
		<link rel='stylesheet' type='text/css' href='style_v3.css' />
		<title>RC4</title>
		<!---<script src="https://www.kirupa.com/js/prefixfree.min.js"></script> --->
		<script src="jquery-3.3.1.min.js"></script>
		<script src="jquery.color.js"></script>
		<script src="jquery.animateNumber.min.js"></script>
		<script type = "text/javascript">
			var defaultkey = "8163"   
			// e.g.: <div class="vbox"><div class="velement">0</div><div>S<span class="sub">0</span></div></div>
			var s1 = '<div class="vbox"><div class="velement">' ;
			var s2 = '</div><div>K<span class="sub">' ;
			var s3 = '</span></div></div>' ;
			var li = '<li>' ;
			var liend = '</li>' ;
			var divclear = '<div class="clear"> </div>' ;

			function checkkeyvalue(){	
				var s1 = '<div class="vbox"><div class="velement">' ;
				var s2 = '</div><div>K<span class="sub">' ;
				var keyvalue = document.getElementById("keyvalue").value;
				keyvalue = keyvalue.toString() ;				
				var keylen = keyvalue.length ;		 
			 	var kvector = '' ; 
			 	if ( keylen < 17 ) {
			 		for (i=0 ; i<keylen ; i++){
					 	var keyelement = keyvalue[i] ;
					 	var selement = s1 + keyelement + s2 + i.toString() + s3 ;
					 	kvector = kvector + selement ;
			 		}
			 	} 
			 	else {
			 		for (i=0 ; i<keylen ; i++) {
					 	var keyelement = keyvalue[i] ;
					 	var selement = s1 + keyelement + s2 + i.toString() + s3 ;
				 		if ( i == 3 ) { kvector = kvector + '<div class="hscroll"><ul>' ; }
				 		if ( i == (keylen - 3)) { kvector = kvector + '</ul></div>' ; }
				 		if ( (i > 2) & (i < (keylen - 3) ) ) {	selement = li + selement + liend ; }
				 		kvector = kvector + selement ;
			 		}
			 	}
			 
			 	document.getElementById("showkey").innerHTML = kvector + divclear ;
			}

			// need to handle case: undefined key value
			function fillt(element, hasID){         // boolean hasID
				s01 = '<div class="vbox" id="stage2T' ;
				s02 = '"><div class="velement">' ;
				s1 = '<div class="vbox"><div class="velement">' ;
				s2 = '</div><div>T<span class="sub">' ;
				var keyvalue = document.getElementById("keyvalue").value ;
				if (keyvalue==0) {keyvalue = defaultkey;}
				keyvalue = keyvalue.toString() ;
				var keylen = keyvalue.length ;
				if ( keylen == 0)
		  			{ return ""; }
				var keyindex = 0 ;
				var tvector ='' ;
				for (i=0 ; i<256 ; i++) {
						keyindex = i % keylen ;
					 	var keyelement = keyvalue[keyindex] ;
					 	if(hasID){ var selement = s01 + i.toString() + s02 + keyelement + s2 + i.toString() + s3 ; }
					 	else { var selement = s1 + keyelement + s2 + i.toString() + s3 ; }
				 		if ( i == 3 ) { tvector = tvector + '<div class="hscroll hscrollT"><ul>' ; }
				 		if ( i == 253 ) { tvector = tvector + '</ul></div>' ; }
				 		if ( (i > 2) & (i < 253 ) ) {	selement = li + selement + liend ; }
				 		tvector = tvector + selement ;
			 		}
			 	document.getElementById(element).innerHTML = tvector + divclear ;

			}

		</script>

	</head>

	<body>

		<div id="sectionM">		
			<h1>RC4</h1>
			<p>RC4 is a stream cipher designed in 1987 by Ron Rivest for RSA Security. It is a variable key size stream cipher with byte-oriented operations. The algorithm is based on the use of a random permutation. Analysis shows that the period of the cipher is overwhelmingly likely to be greater tha 10 1000. Eight to sixteen machine operations are required per output byte, and the cipher can be expected to run very quickly in software.</p>
			<p>RC4 algorithm: a variable-length key of from 1 to 256 bytes is used to initialize a 256-byte state vector S, with elements S[0], S[1], ..., S[255]. At all times, S contains a permutation of all 8-bit numbers from 0 tthrough 255. For encrytion and decryption, a byte k is generated from S by selecting one of the 255 entries in a systematc fashion. As each value of k is generated, the entries in S are once again permuted. </p>
			<h2>General Flow of RC4:</h2>
			<div>			
				<a href="site25-stage1.html" class="flowbox">Initialization of state vector S, temporary vetor T, and key K</a>
				<div class="arrowbox"><img src="arrow1.png"></div>
				<a href="site31-stage2.html?keyvalue=2" class="flowbox">Initial permutation of state vector S</a>
				<div class="arrowbox"><img src="arrow1.png"></div>
				<a href="site41-stage3.html" class="flowbox">Pseudorandom byte stream generation</a>
			</div>
		</div>

		<div id="blankspace">--</div>   <!--- leave blank space between two sections--->
		<div id="blankspace">--</div>

		<div id="section1">

			<h1>Initialization of state vector S, temporary vetor T, and key K</h1>
			<p>State vector S:</p>
			<div>
				<div class="vbox"><div class="velement">0</div><div>S<span class="sub">0</span></div></div>
				<div class="vbox"><div class="velement">1</div><div>S<span class="sub">1</span></div></div>
				<div class="vbox"><div class="velement">2</div><div>S<span class="sub">2</span></div></div>
				<div class="hscroll">
					<ul>
						<li><div class="vbox"><div class="velement">3</div><div>S<span class="sub">3</span></div></div></li>
						<li><div class="vbox"><div class="velement">4</div><div>S<span class="sub">4</span></div></div></li>
						<li><div class="vbox"><div class="velement">5</div><div>S<span class="sub">5</span></div></div></li>
						<li><div class="vbox"><div class="velement">6</div><div>S<span class="sub">6</span></div></div></li>
						<li><div class="vbox"><div class="velement">7</div><div>S<span class="sub">7</span></div></div></li>
						<li><div class="vbox"><div class="velement">8</div><div>S<span class="sub">8</span></div></div></li>
						<li><div class="vbox"><div class="velement">9</div><div>S<span class="sub">9</span></div></div></li>
						<li><div class="vbox"><div class="velement">10</div><div>S<span class="sub">10</span></div></div></li>
						<li><div class="vbox"><div class="velement">11</div><div>S<span class="sub">11</span></div></div></li>
						<li><div class="vbox"><div class="velement">12</div><div>S<span class="sub">12</span></div></div></li>
						<li><div class="vbox"><div class="velement">13</div><div>S<span class="sub">13</span></div></div></li>
						<li><div class="vbox"><div class="velement">14</div><div>S<span class="sub">14</span></div></div></li>
						<li><div class="vbox"><div class="velement">15</div><div>S<span class="sub">15</span></div></div></li>
						<li><div class="vbox"><div class="velement">16</div><div>S<span class="sub">16</span></div></div></li>
						<li><div class="vbox"><div class="velement">17</div><div>S<span class="sub">17</span></div></div></li>
						<li><div class="vbox"><div class="velement">18</div><div>S<span class="sub">18</span></div></div></li>
						<li><div class="vbox"><div class="velement">19</div><div>S<span class="sub">19</span></div></div></li>
						<li><div class="vbox"><div class="velement">20</div><div>S<span class="sub">20</span></div></div></li>
						<li><div class="vbox"><div class="velement">21</div><div>S<span class="sub">21</span></div></div></li>
						<li><div class="vbox"><div class="velement">22</div><div>S<span class="sub">22</span></div></div></li>
						<li><div class="vbox"><div class="velement">23</div><div>S<span class="sub">23</span></div></div></li>
						<li><div class="vbox"><div class="velement">24</div><div>S<span class="sub">24</span></div></div></li>
						<li><div class="vbox"><div class="velement">25</div><div>S<span class="sub">25</span></div></div></li>
						<li><div class="vbox"><div class="velement">26</div><div>S<span class="sub">26</span></div></div></li>
						<li><div class="vbox"><div class="velement">27</div><div>S<span class="sub">27</span></div></div></li>
						<li><div class="vbox"><div class="velement">28</div><div>S<span class="sub">28</span></div></div></li>
						<li><div class="vbox"><div class="velement">29</div><div>S<span class="sub">29</span></div></div></li>
						<li><div class="vbox"><div class="velement">30</div><div>S<span class="sub">30</span></div></div></li>
						<li><div class="vbox"><div class="velement">31</div><div>S<span class="sub">31</span></div></div></li>
						<li><div class="vbox"><div class="velement">32</div><div>S<span class="sub">32</span></div></div></li>
						<li><div class="vbox"><div class="velement">33</div><div>S<span class="sub">33</span></div></div></li>
						<li><div class="vbox"><div class="velement">34</div><div>S<span class="sub">34</span></div></div></li>
						<li><div class="vbox"><div class="velement">35</div><div>S<span class="sub">35</span></div></div></li>
						<li><div class="vbox"><div class="velement">36</div><div>S<span class="sub">36</span></div></div></li>
						<li><div class="vbox"><div class="velement">37</div><div>S<span class="sub">37</span></div></div></li>
						<li><div class="vbox"><div class="velement">38</div><div>S<span class="sub">38</span></div></div></li>
						<li><div class="vbox"><div class="velement">39</div><div>S<span class="sub">39</span></div></div></li>
						<li><div class="vbox"><div class="velement">40</div><div>S<span class="sub">40</span></div></div></li>
						<li><div class="vbox"><div class="velement">41</div><div>S<span class="sub">41</span></div></div></li>
						<li><div class="vbox"><div class="velement">42</div><div>S<span class="sub">42</span></div></div></li>
						<li><div class="vbox"><div class="velement">43</div><div>S<span class="sub">43</span></div></div></li>
						<li><div class="vbox"><div class="velement">44</div><div>S<span class="sub">44</span></div></div></li>
						<li><div class="vbox"><div class="velement">45</div><div>S<span class="sub">45</span></div></div></li>
						<li><div class="vbox"><div class="velement">46</div><div>S<span class="sub">46</span></div></div></li>
						<li><div class="vbox"><div class="velement">47</div><div>S<span class="sub">47</span></div></div></li>
						<li><div class="vbox"><div class="velement">48</div><div>S<span class="sub">48</span></div></div></li>
						<li><div class="vbox"><div class="velement">49</div><div>S<span class="sub">49</span></div></div></li>
						<li><div class="vbox"><div class="velement">50</div><div>S<span class="sub">50</span></div></div></li>
						<li><div class="vbox"><div class="velement">51</div><div>S<span class="sub">51</span></div></div></li>
						<li><div class="vbox"><div class="velement">52</div><div>S<span class="sub">52</span></div></div></li>
						<li><div class="vbox"><div class="velement">53</div><div>S<span class="sub">53</span></div></div></li>
						<li><div class="vbox"><div class="velement">54</div><div>S<span class="sub">54</span></div></div></li>
						<li><div class="vbox"><div class="velement">55</div><div>S<span class="sub">55</span></div></div></li>
						<li><div class="vbox"><div class="velement">56</div><div>S<span class="sub">56</span></div></div></li>
						<li><div class="vbox"><div class="velement">57</div><div>S<span class="sub">57</span></div></div></li>
						<li><div class="vbox"><div class="velement">58</div><div>S<span class="sub">58</span></div></div></li>
						<li><div class="vbox"><div class="velement">59</div><div>S<span class="sub">59</span></div></div></li>
						<li><div class="vbox"><div class="velement">60</div><div>S<span class="sub">60</span></div></div></li>
						<li><div class="vbox"><div class="velement">61</div><div>S<span class="sub">61</span></div></div></li>
						<li><div class="vbox"><div class="velement">62</div><div>S<span class="sub">62</span></div></div></li>
						<li><div class="vbox"><div class="velement">63</div><div>S<span class="sub">63</span></div></div></li>
						<li><div class="vbox"><div class="velement">64</div><div>S<span class="sub">64</span></div></div></li>
						<li><div class="vbox"><div class="velement">65</div><div>S<span class="sub">65</span></div></div></li>
						<li><div class="vbox"><div class="velement">66</div><div>S<span class="sub">66</span></div></div></li>
						<li><div class="vbox"><div class="velement">67</div><div>S<span class="sub">67</span></div></div></li>
						<li><div class="vbox"><div class="velement">68</div><div>S<span class="sub">68</span></div></div></li>
						<li><div class="vbox"><div class="velement">69</div><div>S<span class="sub">69</span></div></div></li>
						<li><div class="vbox"><div class="velement">70</div><div>S<span class="sub">70</span></div></div></li>
						<li><div class="vbox"><div class="velement">71</div><div>S<span class="sub">71</span></div></div></li>
						<li><div class="vbox"><div class="velement">72</div><div>S<span class="sub">72</span></div></div></li>
						<li><div class="vbox"><div class="velement">73</div><div>S<span class="sub">73</span></div></div></li>
						<li><div class="vbox"><div class="velement">74</div><div>S<span class="sub">74</span></div></div></li>
						<li><div class="vbox"><div class="velement">75</div><div>S<span class="sub">75</span></div></div></li>
						<li><div class="vbox"><div class="velement">76</div><div>S<span class="sub">76</span></div></div></li>
						<li><div class="vbox"><div class="velement">77</div><div>S<span class="sub">77</span></div></div></li>
						<li><div class="vbox"><div class="velement">78</div><div>S<span class="sub">78</span></div></div></li>
						<li><div class="vbox"><div class="velement">79</div><div>S<span class="sub">79</span></div></div></li>
						<li><div class="vbox"><div class="velement">80</div><div>S<span class="sub">80</span></div></div></li>
						<li><div class="vbox"><div class="velement">81</div><div>S<span class="sub">81</span></div></div></li>
						<li><div class="vbox"><div class="velement">82</div><div>S<span class="sub">82</span></div></div></li>
						<li><div class="vbox"><div class="velement">83</div><div>S<span class="sub">83</span></div></div></li>
						<li><div class="vbox"><div class="velement">84</div><div>S<span class="sub">84</span></div></div></li>
						<li><div class="vbox"><div class="velement">85</div><div>S<span class="sub">85</span></div></div></li>
						<li><div class="vbox"><div class="velement">86</div><div>S<span class="sub">86</span></div></div></li>
						<li><div class="vbox"><div class="velement">87</div><div>S<span class="sub">87</span></div></div></li>
						<li><div class="vbox"><div class="velement">88</div><div>S<span class="sub">88</span></div></div></li>
						<li><div class="vbox"><div class="velement">89</div><div>S<span class="sub">89</span></div></div></li>
						<li><div class="vbox"><div class="velement">90</div><div>S<span class="sub">90</span></div></div></li>
						<li><div class="vbox"><div class="velement">91</div><div>S<span class="sub">91</span></div></div></li>
						<li><div class="vbox"><div class="velement">92</div><div>S<span class="sub">92</span></div></div></li>
						<li><div class="vbox"><div class="velement">93</div><div>S<span class="sub">93</span></div></div></li>
						<li><div class="vbox"><div class="velement">94</div><div>S<span class="sub">94</span></div></div></li>
						<li><div class="vbox"><div class="velement">95</div><div>S<span class="sub">95</span></div></div></li>
						<li><div class="vbox"><div class="velement">96</div><div>S<span class="sub">96</span></div></div></li>
						<li><div class="vbox"><div class="velement">97</div><div>S<span class="sub">97</span></div></div></li>
						<li><div class="vbox"><div class="velement">98</div><div>S<span class="sub">98</span></div></div></li>
						<li><div class="vbox"><div class="velement">99</div><div>S<span class="sub">99</span></div></div></li>
						<li><div class="vbox"><div class="velement">100</div><div>S<span class="sub">100</span></div></div></li>
						<li><div class="vbox"><div class="velement">101</div><div>S<span class="sub">101</span></div></div></li>
						<li><div class="vbox"><div class="velement">102</div><div>S<span class="sub">102</span></div></div></li>
						<li><div class="vbox"><div class="velement">103</div><div>S<span class="sub">103</span></div></div></li>
						<li><div class="vbox"><div class="velement">104</div><div>S<span class="sub">104</span></div></div></li>
						<li><div class="vbox"><div class="velement">105</div><div>S<span class="sub">105</span></div></div></li>
						<li><div class="vbox"><div class="velement">106</div><div>S<span class="sub">106</span></div></div></li>
						<li><div class="vbox"><div class="velement">107</div><div>S<span class="sub">107</span></div></div></li>
						<li><div class="vbox"><div class="velement">108</div><div>S<span class="sub">108</span></div></div></li>
						<li><div class="vbox"><div class="velement">109</div><div>S<span class="sub">109</span></div></div></li>
						<li><div class="vbox"><div class="velement">110</div><div>S<span class="sub">110</span></div></div></li>
						<li><div class="vbox"><div class="velement">111</div><div>S<span class="sub">111</span></div></div></li>
						<li><div class="vbox"><div class="velement">112</div><div>S<span class="sub">112</span></div></div></li>
						<li><div class="vbox"><div class="velement">113</div><div>S<span class="sub">113</span></div></div></li>
						<li><div class="vbox"><div class="velement">114</div><div>S<span class="sub">114</span></div></div></li>
						<li><div class="vbox"><div class="velement">115</div><div>S<span class="sub">115</span></div></div></li>
						<li><div class="vbox"><div class="velement">116</div><div>S<span class="sub">116</span></div></div></li>
						<li><div class="vbox"><div class="velement">117</div><div>S<span class="sub">117</span></div></div></li>
						<li><div class="vbox"><div class="velement">118</div><div>S<span class="sub">118</span></div></div></li>
						<li><div class="vbox"><div class="velement">119</div><div>S<span class="sub">119</span></div></div></li>
						<li><div class="vbox"><div class="velement">120</div><div>S<span class="sub">120</span></div></div></li>
						<li><div class="vbox"><div class="velement">121</div><div>S<span class="sub">121</span></div></div></li>
						<li><div class="vbox"><div class="velement">122</div><div>S<span class="sub">122</span></div></div></li>
						<li><div class="vbox"><div class="velement">123</div><div>S<span class="sub">123</span></div></div></li>
						<li><div class="vbox"><div class="velement">124</div><div>S<span class="sub">124</span></div></div></li>
						<li><div class="vbox"><div class="velement">125</div><div>S<span class="sub">125</span></div></div></li>
						<li><div class="vbox"><div class="velement">126</div><div>S<span class="sub">126</span></div></div></li>
						<li><div class="vbox"><div class="velement">127</div><div>S<span class="sub">127</span></div></div></li>
						<li><div class="vbox"><div class="velement">128</div><div>S<span class="sub">128</span></div></div></li>
						<li><div class="vbox"><div class="velement">129</div><div>S<span class="sub">129</span></div></div></li>
						<li><div class="vbox"><div class="velement">130</div><div>S<span class="sub">130</span></div></div></li>
						<li><div class="vbox"><div class="velement">131</div><div>S<span class="sub">131</span></div></div></li>
						<li><div class="vbox"><div class="velement">132</div><div>S<span class="sub">132</span></div></div></li>
						<li><div class="vbox"><div class="velement">133</div><div>S<span class="sub">133</span></div></div></li>
						<li><div class="vbox"><div class="velement">134</div><div>S<span class="sub">134</span></div></div></li>
						<li><div class="vbox"><div class="velement">135</div><div>S<span class="sub">135</span></div></div></li>
						<li><div class="vbox"><div class="velement">136</div><div>S<span class="sub">136</span></div></div></li>
						<li><div class="vbox"><div class="velement">137</div><div>S<span class="sub">137</span></div></div></li>
						<li><div class="vbox"><div class="velement">138</div><div>S<span class="sub">138</span></div></div></li>
						<li><div class="vbox"><div class="velement">139</div><div>S<span class="sub">139</span></div></div></li>
						<li><div class="vbox"><div class="velement">140</div><div>S<span class="sub">140</span></div></div></li>
						<li><div class="vbox"><div class="velement">141</div><div>S<span class="sub">141</span></div></div></li>
						<li><div class="vbox"><div class="velement">142</div><div>S<span class="sub">142</span></div></div></li>
						<li><div class="vbox"><div class="velement">143</div><div>S<span class="sub">143</span></div></div></li>
						<li><div class="vbox"><div class="velement">144</div><div>S<span class="sub">144</span></div></div></li>
						<li><div class="vbox"><div class="velement">145</div><div>S<span class="sub">145</span></div></div></li>
						<li><div class="vbox"><div class="velement">146</div><div>S<span class="sub">146</span></div></div></li>
						<li><div class="vbox"><div class="velement">147</div><div>S<span class="sub">147</span></div></div></li>
						<li><div class="vbox"><div class="velement">148</div><div>S<span class="sub">148</span></div></div></li>
						<li><div class="vbox"><div class="velement">149</div><div>S<span class="sub">149</span></div></div></li>
						<li><div class="vbox"><div class="velement">150</div><div>S<span class="sub">150</span></div></div></li>
						<li><div class="vbox"><div class="velement">151</div><div>S<span class="sub">151</span></div></div></li>
						<li><div class="vbox"><div class="velement">152</div><div>S<span class="sub">152</span></div></div></li>
						<li><div class="vbox"><div class="velement">153</div><div>S<span class="sub">153</span></div></div></li>
						<li><div class="vbox"><div class="velement">154</div><div>S<span class="sub">154</span></div></div></li>
						<li><div class="vbox"><div class="velement">155</div><div>S<span class="sub">155</span></div></div></li>
						<li><div class="vbox"><div class="velement">156</div><div>S<span class="sub">156</span></div></div></li>
						<li><div class="vbox"><div class="velement">157</div><div>S<span class="sub">157</span></div></div></li>
						<li><div class="vbox"><div class="velement">158</div><div>S<span class="sub">158</span></div></div></li>
						<li><div class="vbox"><div class="velement">159</div><div>S<span class="sub">159</span></div></div></li>
						<li><div class="vbox"><div class="velement">160</div><div>S<span class="sub">160</span></div></div></li>
						<li><div class="vbox"><div class="velement">161</div><div>S<span class="sub">161</span></div></div></li>
						<li><div class="vbox"><div class="velement">162</div><div>S<span class="sub">162</span></div></div></li>
						<li><div class="vbox"><div class="velement">163</div><div>S<span class="sub">163</span></div></div></li>
						<li><div class="vbox"><div class="velement">164</div><div>S<span class="sub">164</span></div></div></li>
						<li><div class="vbox"><div class="velement">165</div><div>S<span class="sub">165</span></div></div></li>
						<li><div class="vbox"><div class="velement">166</div><div>S<span class="sub">166</span></div></div></li>
						<li><div class="vbox"><div class="velement">167</div><div>S<span class="sub">167</span></div></div></li>
						<li><div class="vbox"><div class="velement">168</div><div>S<span class="sub">168</span></div></div></li>
						<li><div class="vbox"><div class="velement">169</div><div>S<span class="sub">169</span></div></div></li>
						<li><div class="vbox"><div class="velement">170</div><div>S<span class="sub">170</span></div></div></li>
						<li><div class="vbox"><div class="velement">171</div><div>S<span class="sub">171</span></div></div></li>
						<li><div class="vbox"><div class="velement">172</div><div>S<span class="sub">172</span></div></div></li>
						<li><div class="vbox"><div class="velement">173</div><div>S<span class="sub">173</span></div></div></li>
						<li><div class="vbox"><div class="velement">174</div><div>S<span class="sub">174</span></div></div></li>
						<li><div class="vbox"><div class="velement">175</div><div>S<span class="sub">175</span></div></div></li>
						<li><div class="vbox"><div class="velement">176</div><div>S<span class="sub">176</span></div></div></li>
						<li><div class="vbox"><div class="velement">177</div><div>S<span class="sub">177</span></div></div></li>
						<li><div class="vbox"><div class="velement">178</div><div>S<span class="sub">178</span></div></div></li>
						<li><div class="vbox"><div class="velement">179</div><div>S<span class="sub">179</span></div></div></li>
						<li><div class="vbox"><div class="velement">180</div><div>S<span class="sub">180</span></div></div></li>
						<li><div class="vbox"><div class="velement">181</div><div>S<span class="sub">181</span></div></div></li>
						<li><div class="vbox"><div class="velement">182</div><div>S<span class="sub">182</span></div></div></li>
						<li><div class="vbox"><div class="velement">183</div><div>S<span class="sub">183</span></div></div></li>
						<li><div class="vbox"><div class="velement">184</div><div>S<span class="sub">184</span></div></div></li>
						<li><div class="vbox"><div class="velement">185</div><div>S<span class="sub">185</span></div></div></li>
						<li><div class="vbox"><div class="velement">186</div><div>S<span class="sub">186</span></div></div></li>
						<li><div class="vbox"><div class="velement">187</div><div>S<span class="sub">187</span></div></div></li>
						<li><div class="vbox"><div class="velement">188</div><div>S<span class="sub">188</span></div></div></li>
						<li><div class="vbox"><div class="velement">189</div><div>S<span class="sub">189</span></div></div></li>
						<li><div class="vbox"><div class="velement">190</div><div>S<span class="sub">190</span></div></div></li>
						<li><div class="vbox"><div class="velement">191</div><div>S<span class="sub">191</span></div></div></li>
						<li><div class="vbox"><div class="velement">192</div><div>S<span class="sub">192</span></div></div></li>
						<li><div class="vbox"><div class="velement">193</div><div>S<span class="sub">193</span></div></div></li>
						<li><div class="vbox"><div class="velement">194</div><div>S<span class="sub">194</span></div></div></li>
						<li><div class="vbox"><div class="velement">195</div><div>S<span class="sub">195</span></div></div></li>
						<li><div class="vbox"><div class="velement">196</div><div>S<span class="sub">196</span></div></div></li>
						<li><div class="vbox"><div class="velement">197</div><div>S<span class="sub">197</span></div></div></li>
						<li><div class="vbox"><div class="velement">198</div><div>S<span class="sub">198</span></div></div></li>
						<li><div class="vbox"><div class="velement">199</div><div>S<span class="sub">199</span></div></div></li>
						<li><div class="vbox"><div class="velement">200</div><div>S<span class="sub">200</span></div></div></li>
						<li><div class="vbox"><div class="velement">201</div><div>S<span class="sub">201</span></div></div></li>
						<li><div class="vbox"><div class="velement">202</div><div>S<span class="sub">202</span></div></div></li>
						<li><div class="vbox"><div class="velement">203</div><div>S<span class="sub">203</span></div></div></li>
						<li><div class="vbox"><div class="velement">204</div><div>S<span class="sub">204</span></div></div></li>
						<li><div class="vbox"><div class="velement">205</div><div>S<span class="sub">205</span></div></div></li>
						<li><div class="vbox"><div class="velement">206</div><div>S<span class="sub">206</span></div></div></li>
						<li><div class="vbox"><div class="velement">207</div><div>S<span class="sub">207</span></div></div></li>
						<li><div class="vbox"><div class="velement">208</div><div>S<span class="sub">208</span></div></div></li>
						<li><div class="vbox"><div class="velement">209</div><div>S<span class="sub">209</span></div></div></li>
						<li><div class="vbox"><div class="velement">210</div><div>S<span class="sub">210</span></div></div></li>
						<li><div class="vbox"><div class="velement">211</div><div>S<span class="sub">211</span></div></div></li>
						<li><div class="vbox"><div class="velement">212</div><div>S<span class="sub">212</span></div></div></li>
						<li><div class="vbox"><div class="velement">213</div><div>S<span class="sub">213</span></div></div></li>
						<li><div class="vbox"><div class="velement">214</div><div>S<span class="sub">214</span></div></div></li>
						<li><div class="vbox"><div class="velement">215</div><div>S<span class="sub">215</span></div></div></li>
						<li><div class="vbox"><div class="velement">216</div><div>S<span class="sub">216</span></div></div></li>
						<li><div class="vbox"><div class="velement">217</div><div>S<span class="sub">217</span></div></div></li>
						<li><div class="vbox"><div class="velement">218</div><div>S<span class="sub">218</span></div></div></li>
						<li><div class="vbox"><div class="velement">219</div><div>S<span class="sub">219</span></div></div></li>
						<li><div class="vbox"><div class="velement">220</div><div>S<span class="sub">220</span></div></div></li>
						<li><div class="vbox"><div class="velement">221</div><div>S<span class="sub">221</span></div></div></li>
						<li><div class="vbox"><div class="velement">222</div><div>S<span class="sub">222</span></div></div></li>
						<li><div class="vbox"><div class="velement">223</div><div>S<span class="sub">223</span></div></div></li>
						<li><div class="vbox"><div class="velement">224</div><div>S<span class="sub">224</span></div></div></li>
						<li><div class="vbox"><div class="velement">225</div><div>S<span class="sub">225</span></div></div></li>
						<li><div class="vbox"><div class="velement">226</div><div>S<span class="sub">226</span></div></div></li>
						<li><div class="vbox"><div class="velement">227</div><div>S<span class="sub">227</span></div></div></li>
						<li><div class="vbox"><div class="velement">228</div><div>S<span class="sub">228</span></div></div></li>
						<li><div class="vbox"><div class="velement">229</div><div>S<span class="sub">229</span></div></div></li>
						<li><div class="vbox"><div class="velement">230</div><div>S<span class="sub">230</span></div></div></li>
						<li><div class="vbox"><div class="velement">231</div><div>S<span class="sub">231</span></div></div></li>
						<li><div class="vbox"><div class="velement">232</div><div>S<span class="sub">232</span></div></div></li>
						<li><div class="vbox"><div class="velement">233</div><div>S<span class="sub">233</span></div></div></li>
						<li><div class="vbox"><div class="velement">234</div><div>S<span class="sub">234</span></div></div></li>
						<li><div class="vbox"><div class="velement">235</div><div>S<span class="sub">235</span></div></div></li>
						<li><div class="vbox"><div class="velement">236</div><div>S<span class="sub">236</span></div></div></li>
						<li><div class="vbox"><div class="velement">237</div><div>S<span class="sub">237</span></div></div></li>
						<li><div class="vbox"><div class="velement">238</div><div>S<span class="sub">238</span></div></div></li>
						<li><div class="vbox"><div class="velement">239</div><div>S<span class="sub">239</span></div></div></li>
						<li><div class="vbox"><div class="velement">240</div><div>S<span class="sub">240</span></div></div></li>
						<li><div class="vbox"><div class="velement">241</div><div>S<span class="sub">241</span></div></div></li>
						<li><div class="vbox"><div class="velement">242</div><div>S<span class="sub">242</span></div></div></li>
						<li><div class="vbox"><div class="velement">243</div><div>S<span class="sub">243</span></div></div></li>
						<li><div class="vbox"><div class="velement">244</div><div>S<span class="sub">244</span></div></div></li>
						<li><div class="vbox"><div class="velement">245</div><div>S<span class="sub">245</span></div></div></li>
						<li><div class="vbox"><div class="velement">246</div><div>S<span class="sub">246</span></div></div></li>
						<li><div class="vbox"><div class="velement">247</div><div>S<span class="sub">247</span></div></div></li>
						<li><div class="vbox"><div class="velement">248</div><div>S<span class="sub">248</span></div></div></li>
						<li><div class="vbox"><div class="velement">249</div><div>S<span class="sub">249</span></div></div></li>
						<li><div class="vbox"><div class="velement">250</div><div>S<span class="sub">250</span></div></div></li>
						<li><div class="vbox"><div class="velement">251</div><div>S<span class="sub">251</span></div></div></li>
						<li><div class="vbox"><div class="velement">252</div><div>S<span class="sub">252</span></div></div></li>
					</ul> 
				</div>
				<div class="vbox"><div class="velement">253</div><div>S<span class="sub">253</span></div></div>
				<div class="vbox"><div class="velement">254</div><div>S<span class="sub">254</span></div></div>
				<div class="vbox"><div class="velement">255</div><div>S<span class="sub">255</span></div></div>
			</div>
			<div class="clear"> </div> 
				
			<p>Temporary vector T (<span class="italic">empty</span>):</p>
			<div>
				<div class="vbox"><div class="velement"> </div><div>T<span class="sub">0</span></div></div>
				<div class="vbox"><div class="velement"> </div><div>T<span class="sub">1</span></div></div>
				<div class="vbox"><div class="velement"> </div><div>T<span class="sub">2</span></div></div>
				<div class="hscroll">
					<ul>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">3</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">4</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">5</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">6</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">7</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">8</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">9</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">10</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">11</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">12</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">13</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">14</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">15</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">16</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">17</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">18</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">19</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">20</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">21</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">22</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">23</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">24</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">25</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">26</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">27</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">28</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">29</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">30</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">31</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">32</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">33</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">34</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">35</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">36</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">37</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">38</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">39</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">40</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">41</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">42</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">43</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">44</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">45</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">46</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">47</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">48</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">49</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">50</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">51</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">52</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">53</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">54</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">55</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">56</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">57</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">58</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">59</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">60</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">61</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">62</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">63</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">64</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">65</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">66</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">67</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">68</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">69</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">70</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">71</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">72</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">73</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">74</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">75</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">76</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">77</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">78</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">79</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">80</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">81</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">82</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">83</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">84</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">85</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">86</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">87</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">88</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">89</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">90</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">91</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">92</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">93</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">94</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">95</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">96</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">97</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">98</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">99</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">100</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">101</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">102</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">103</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">104</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">105</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">106</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">107</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">108</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">109</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">110</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">111</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">112</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">113</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">114</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">115</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">116</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">117</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">118</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">119</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">120</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">121</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">122</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">123</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">124</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">125</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">126</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">127</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">128</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">129</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">130</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">131</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">132</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">133</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">134</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">135</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">136</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">137</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">138</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">139</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">140</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">141</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">142</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">143</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">144</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">145</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">146</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">147</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">148</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">149</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">150</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">151</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">152</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">153</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">154</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">155</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">156</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">157</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">158</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">159</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">160</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">161</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">162</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">163</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">164</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">165</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">166</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">167</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">168</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">169</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">170</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">171</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">172</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">173</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">174</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">175</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">176</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">177</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">178</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">179</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">180</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">181</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">182</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">183</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">184</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">185</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">186</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">187</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">188</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">189</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">190</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">191</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">192</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">193</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">194</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">195</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">196</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">197</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">198</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">199</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">200</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">201</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">202</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">203</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">204</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">205</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">206</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">207</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">208</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">209</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">210</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">211</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">212</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">213</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">214</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">215</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">216</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">217</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">218</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">219</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">220</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">221</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">222</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">223</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">224</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">225</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">226</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">227</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">228</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">229</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">230</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">231</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">232</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">233</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">234</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">235</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">236</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">237</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">238</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">239</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">240</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">241</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">242</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">243</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">244</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">245</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">246</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">247</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">248</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">249</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">250</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">251</span></div></div></li>
						<li><div class="vbox"><div class="velement"> </div><div>T<span class="sub">252</span></div></div></li>
					</ul>
				</div>
				<div class="vbox"><div class="velement"> </div><div>T<span class="sub">253</span></div></div>
				<div class="vbox"><div class="velement"> </div><div>T<span class="sub">254</span></div></div>
				<div class="vbox"><div class="velement"> </div><div>T<span class="sub">255</span></div></div>			
			</div>
			<div class="clear"> </div>

			<div><p>Enter key K:</p></div>
			<input type="number" id="keyvalue" name="keyvalue" placeholder=8163>
			<button type="button" id='confirm' class='confirm'>CONFIRM</button>
			<div class="clear"></div> <br/>

			<script type="text/javascript">
				var confirm = document.getElementById("confirm");
	    		confirm.addEventListener("click", checkkeyvalue,  false);    
			</script>

			<div>
				<div id='showkey'></div>	
			</div>


			<button type="button" id='initiate'>INITIATE T</button>
			<p>Temporary vector T:</p>
			<div id='tvalue' name='tvalue'></div>
			<div class="clear"> </div>

			<script type="text/javascript">
				fillt("tvalue", false);
				var initiate = document.getElementById("initiate");
	    		initiate.addEventListener("click", function(){fillt("tvalue", false);},  false);    
			</script>
			
		</div>

		<div id="blankspace">--</div>   <!--- leave blank space between two sections--->

		<div id="section2">
			<h1>Initial Permutation of S</h1>

			<div class="gridcontainer1">
				<div class="gridelement1">				
					<table class="counterbox"><tr>
						<th>Round</th>
						<th class="stage2counter">0</th>	
					</tr></table>				
					<div class="bpf">
						<button type="button" id="backbutton">BACKWARD</button>
						<button type="button" id="togglebutton">PLAY</button>
						<button type="button" id="forthbutton">FORWARD</button>
					</div>
				</div>

				<div class="gridelement2">
					<p class="stage2step1">Temporary variables:
						i = <a id="ivalue1">0</a>, j = <a id="jvalue1">0</a>
					</p>
					<p class="stage2step2"><br/> Step 1: Find S[j] </p>
						<!--- j = (j + S[i] + T[i]) mod 256<br> --->
					<p class="stage2step3"> j = (<a id="jvalue2">j</a> + S[<a id="ivalue2">i</a>] + T[<a id="ivalue3">i</a>]) mod 256 </p> 
					<p>
						<div class="stage2step4 styledlikep"> j = ( 
							<a id="jvalue3">0</a> + <a id="stage2vectorsi">0</a> + <a id="stage2vectorti">i</a> ) mod 256   
						</div>
						<p class="stage2step5"> = 
							<a id="jvalue4">0</a>
						</p> 
					</p>
					<p class="stage2step6"> S[<a id="jvalue5">j</a>] = <a id="step6Sj"></a> </p>
				</div>

				<div class="gridelement3">
					<p class="stage2step7"> Step 2: Find S[i] </p> 
					<p class="stage2step8"> S[<a id="ivalue4" >i</a>] = <a id="step6Si"></a> </p>					
					<p class="stage2step9"><br> Step 3: Swap S[<a id="ivalue5" >i</a>], S[<a id="jvalue6" >j</a>] </p>
					<p class="stage2step10"><br> Step 4: Increment i </p>				
				</div>

				<div class="gridelement4">
					<p>State vector S: </p>					
					<div class="zindex1">
						<div class="vbox" id="stage2S0"><div class="velement">0</div><div>S<span class="sub">0</span></div></div>
						<div class="vbox" id="stage2S1"><div class="velement">1</div><div>S<span class="sub">1</span></div></div>
						<div class="vbox" id="stage2S2"><div class="velement">2</div><div>S<span class="sub">2</span></div></div>
						<div class="hscroll hscrollS">
							<ul>
									<li><div class="vbox" id="stage2S3"><div class="velement">3</div><div>S<span class="sub">3</span></div></div></li>
									<li><div class="vbox" id="stage2S4"><div class="velement">4</div><div>S<span class="sub">4</span></div></div></li>
									<li><div class="vbox" id="stage2S5"><div class="velement">5</div><div>S<span class="sub">5</span></div></div></li>
									<li><div class="vbox" id="stage2S6"><div class="velement">6</div><div>S<span class="sub">6</span></div></div></li>
									<li><div class="vbox" id="stage2S7"><div class="velement">7</div><div>S<span class="sub">7</span></div></div></li>
									<li><div class="vbox" id="stage2S8"><div class="velement">8</div><div>S<span class="sub">8</span></div></div></li>
									<li><div class="vbox" id="stage2S9"><div class="velement">9</div><div>S<span class="sub">9</span></div></div></li>
									<li><div class="vbox" id="stage2S10"><div class="velement">10</div><div>S<span class="sub">10</span></div></div></li>
									<li><div class="vbox" id="stage2S11"><div class="velement">11</div><div>S<span class="sub">11</span></div></div></li>
									<li><div class="vbox" id="stage2S12"><div class="velement">12</div><div>S<span class="sub">12</span></div></div></li>
									<li><div class="vbox" id="stage2S13"><div class="velement">13</div><div>S<span class="sub">13</span></div></div></li>
									<li><div class="vbox" id="stage2S14"><div class="velement">14</div><div>S<span class="sub">14</span></div></div></li>
									<li><div class="vbox" id="stage2S15"><div class="velement">15</div><div>S<span class="sub">15</span></div></div></li>
									<li><div class="vbox" id="stage2S16"><div class="velement">16</div><div>S<span class="sub">16</span></div></div></li>
									<li><div class="vbox" id="stage2S17"><div class="velement">17</div><div>S<span class="sub">17</span></div></div></li>
									<li><div class="vbox" id="stage2S18"><div class="velement">18</div><div>S<span class="sub">18</span></div></div></li>
									<li><div class="vbox" id="stage2S19"><div class="velement">19</div><div>S<span class="sub">19</span></div></div></li>
									<li><div class="vbox" id="stage2S20"><div class="velement">20</div><div>S<span class="sub">20</span></div></div></li>
									<li><div class="vbox" id="stage2S21"><div class="velement">21</div><div>S<span class="sub">21</span></div></div></li>
									<li><div class="vbox" id="stage2S22"><div class="velement">22</div><div>S<span class="sub">22</span></div></div></li>
									<li><div class="vbox" id="stage2S23"><div class="velement">23</div><div>S<span class="sub">23</span></div></div></li>
									<li><div class="vbox" id="stage2S24"><div class="velement">24</div><div>S<span class="sub">24</span></div></div></li>
									<li><div class="vbox" id="stage2S25"><div class="velement">25</div><div>S<span class="sub">25</span></div></div></li>
									<li><div class="vbox" id="stage2S26"><div class="velement">26</div><div>S<span class="sub">26</span></div></div></li>
									<li><div class="vbox" id="stage2S27"><div class="velement">27</div><div>S<span class="sub">27</span></div></div></li>
									<li><div class="vbox" id="stage2S28"><div class="velement">28</div><div>S<span class="sub">28</span></div></div></li>
									<li><div class="vbox" id="stage2S29"><div class="velement">29</div><div>S<span class="sub">29</span></div></div></li>
									<li><div class="vbox" id="stage2S30"><div class="velement">30</div><div>S<span class="sub">30</span></div></div></li>
									<li><div class="vbox" id="stage2S31"><div class="velement">31</div><div>S<span class="sub">31</span></div></div></li>
									<li><div class="vbox" id="stage2S32"><div class="velement">32</div><div>S<span class="sub">32</span></div></div></li>
									<li><div class="vbox" id="stage2S33"><div class="velement">33</div><div>S<span class="sub">33</span></div></div></li>
									<li><div class="vbox" id="stage2S34"><div class="velement">34</div><div>S<span class="sub">34</span></div></div></li>
									<li><div class="vbox" id="stage2S35"><div class="velement">35</div><div>S<span class="sub">35</span></div></div></li>
									<li><div class="vbox" id="stage2S36"><div class="velement">36</div><div>S<span class="sub">36</span></div></div></li>
									<li><div class="vbox" id="stage2S37"><div class="velement">37</div><div>S<span class="sub">37</span></div></div></li>
									<li><div class="vbox" id="stage2S38"><div class="velement">38</div><div>S<span class="sub">38</span></div></div></li>
									<li><div class="vbox" id="stage2S39"><div class="velement">39</div><div>S<span class="sub">39</span></div></div></li>
									<li><div class="vbox" id="stage2S40"><div class="velement">40</div><div>S<span class="sub">40</span></div></div></li>
									<li><div class="vbox" id="stage2S41"><div class="velement">41</div><div>S<span class="sub">41</span></div></div></li>
									<li><div class="vbox" id="stage2S42"><div class="velement">42</div><div>S<span class="sub">42</span></div></div></li>
									<li><div class="vbox" id="stage2S43"><div class="velement">43</div><div>S<span class="sub">43</span></div></div></li>
									<li><div class="vbox" id="stage2S44"><div class="velement">44</div><div>S<span class="sub">44</span></div></div></li>
									<li><div class="vbox" id="stage2S45"><div class="velement">45</div><div>S<span class="sub">45</span></div></div></li>
									<li><div class="vbox" id="stage2S46"><div class="velement">46</div><div>S<span class="sub">46</span></div></div></li>
									<li><div class="vbox" id="stage2S47"><div class="velement">47</div><div>S<span class="sub">47</span></div></div></li>
									<li><div class="vbox" id="stage2S48"><div class="velement">48</div><div>S<span class="sub">48</span></div></div></li>
									<li><div class="vbox" id="stage2S49"><div class="velement">49</div><div>S<span class="sub">49</span></div></div></li>
									<li><div class="vbox" id="stage2S50"><div class="velement">50</div><div>S<span class="sub">50</span></div></div></li>
									<li><div class="vbox" id="stage2S51"><div class="velement">51</div><div>S<span class="sub">51</span></div></div></li>
									<li><div class="vbox" id="stage2S52"><div class="velement">52</div><div>S<span class="sub">52</span></div></div></li>
									<li><div class="vbox" id="stage2S53"><div class="velement">53</div><div>S<span class="sub">53</span></div></div></li>
									<li><div class="vbox" id="stage2S54"><div class="velement">54</div><div>S<span class="sub">54</span></div></div></li>
									<li><div class="vbox" id="stage2S55"><div class="velement">55</div><div>S<span class="sub">55</span></div></div></li>
									<li><div class="vbox" id="stage2S56"><div class="velement">56</div><div>S<span class="sub">56</span></div></div></li>
									<li><div class="vbox" id="stage2S57"><div class="velement">57</div><div>S<span class="sub">57</span></div></div></li>
									<li><div class="vbox" id="stage2S58"><div class="velement">58</div><div>S<span class="sub">58</span></div></div></li>
									<li><div class="vbox" id="stage2S59"><div class="velement">59</div><div>S<span class="sub">59</span></div></div></li>
									<li><div class="vbox" id="stage2S60"><div class="velement">60</div><div>S<span class="sub">60</span></div></div></li>
									<li><div class="vbox" id="stage2S61"><div class="velement">61</div><div>S<span class="sub">61</span></div></div></li>
									<li><div class="vbox" id="stage2S62"><div class="velement">62</div><div>S<span class="sub">62</span></div></div></li>
									<li><div class="vbox" id="stage2S63"><div class="velement">63</div><div>S<span class="sub">63</span></div></div></li>
									<li><div class="vbox" id="stage2S64"><div class="velement">64</div><div>S<span class="sub">64</span></div></div></li>
									<li><div class="vbox" id="stage2S65"><div class="velement">65</div><div>S<span class="sub">65</span></div></div></li>
									<li><div class="vbox" id="stage2S66"><div class="velement">66</div><div>S<span class="sub">66</span></div></div></li>
									<li><div class="vbox" id="stage2S67"><div class="velement">67</div><div>S<span class="sub">67</span></div></div></li>
									<li><div class="vbox" id="stage2S68"><div class="velement">68</div><div>S<span class="sub">68</span></div></div></li>
									<li><div class="vbox" id="stage2S69"><div class="velement">69</div><div>S<span class="sub">69</span></div></div></li>
									<li><div class="vbox" id="stage2S70"><div class="velement">70</div><div>S<span class="sub">70</span></div></div></li>
									<li><div class="vbox" id="stage2S71"><div class="velement">71</div><div>S<span class="sub">71</span></div></div></li>
									<li><div class="vbox" id="stage2S72"><div class="velement">72</div><div>S<span class="sub">72</span></div></div></li>
									<li><div class="vbox" id="stage2S73"><div class="velement">73</div><div>S<span class="sub">73</span></div></div></li>
									<li><div class="vbox" id="stage2S74"><div class="velement">74</div><div>S<span class="sub">74</span></div></div></li>
									<li><div class="vbox" id="stage2S75"><div class="velement">75</div><div>S<span class="sub">75</span></div></div></li>
									<li><div class="vbox" id="stage2S76"><div class="velement">76</div><div>S<span class="sub">76</span></div></div></li>
									<li><div class="vbox" id="stage2S77"><div class="velement">77</div><div>S<span class="sub">77</span></div></div></li>
									<li><div class="vbox" id="stage2S78"><div class="velement">78</div><div>S<span class="sub">78</span></div></div></li>
									<li><div class="vbox" id="stage2S79"><div class="velement">79</div><div>S<span class="sub">79</span></div></div></li>
									<li><div class="vbox" id="stage2S80"><div class="velement">80</div><div>S<span class="sub">80</span></div></div></li>
									<li><div class="vbox" id="stage2S81"><div class="velement">81</div><div>S<span class="sub">81</span></div></div></li>
									<li><div class="vbox" id="stage2S82"><div class="velement">82</div><div>S<span class="sub">82</span></div></div></li>
									<li><div class="vbox" id="stage2S83"><div class="velement">83</div><div>S<span class="sub">83</span></div></div></li>
									<li><div class="vbox" id="stage2S84"><div class="velement">84</div><div>S<span class="sub">84</span></div></div></li>
									<li><div class="vbox" id="stage2S85"><div class="velement">85</div><div>S<span class="sub">85</span></div></div></li>
									<li><div class="vbox" id="stage2S86"><div class="velement">86</div><div>S<span class="sub">86</span></div></div></li>
									<li><div class="vbox" id="stage2S87"><div class="velement">87</div><div>S<span class="sub">87</span></div></div></li>
									<li><div class="vbox" id="stage2S88"><div class="velement">88</div><div>S<span class="sub">88</span></div></div></li>
									<li><div class="vbox" id="stage2S89"><div class="velement">89</div><div>S<span class="sub">89</span></div></div></li>
									<li><div class="vbox" id="stage2S90"><div class="velement">90</div><div>S<span class="sub">90</span></div></div></li>
									<li><div class="vbox" id="stage2S91"><div class="velement">91</div><div>S<span class="sub">91</span></div></div></li>
									<li><div class="vbox" id="stage2S92"><div class="velement">92</div><div>S<span class="sub">92</span></div></div></li>
									<li><div class="vbox" id="stage2S93"><div class="velement">93</div><div>S<span class="sub">93</span></div></div></li>
									<li><div class="vbox" id="stage2S94"><div class="velement">94</div><div>S<span class="sub">94</span></div></div></li>
									<li><div class="vbox" id="stage2S95"><div class="velement">95</div><div>S<span class="sub">95</span></div></div></li>
									<li><div class="vbox" id="stage2S96"><div class="velement">96</div><div>S<span class="sub">96</span></div></div></li>
									<li><div class="vbox" id="stage2S97"><div class="velement">97</div><div>S<span class="sub">97</span></div></div></li>
									<li><div class="vbox" id="stage2S98"><div class="velement">98</div><div>S<span class="sub">98</span></div></div></li>
									<li><div class="vbox" id="stage2S99"><div class="velement">99</div><div>S<span class="sub">99</span></div></div></li>
									<li><div class="vbox" id="stage2S100"><div class="velement">100</div><div>S<span class="sub">100</span></div></div></li>
									<li><div class="vbox" id="stage2S101"><div class="velement">101</div><div>S<span class="sub">101</span></div></div></li>
									<li><div class="vbox" id="stage2S102"><div class="velement">102</div><div>S<span class="sub">102</span></div></div></li>
									<li><div class="vbox" id="stage2S103"><div class="velement">103</div><div>S<span class="sub">103</span></div></div></li>
									<li><div class="vbox" id="stage2S104"><div class="velement">104</div><div>S<span class="sub">104</span></div></div></li>
									<li><div class="vbox" id="stage2S105"><div class="velement">105</div><div>S<span class="sub">105</span></div></div></li>
									<li><div class="vbox" id="stage2S106"><div class="velement">106</div><div>S<span class="sub">106</span></div></div></li>
									<li><div class="vbox" id="stage2S107"><div class="velement">107</div><div>S<span class="sub">107</span></div></div></li>
									<li><div class="vbox" id="stage2S108"><div class="velement">108</div><div>S<span class="sub">108</span></div></div></li>
									<li><div class="vbox" id="stage2S109"><div class="velement">109</div><div>S<span class="sub">109</span></div></div></li>
									<li><div class="vbox" id="stage2S110"><div class="velement">110</div><div>S<span class="sub">110</span></div></div></li>
									<li><div class="vbox" id="stage2S111"><div class="velement">111</div><div>S<span class="sub">111</span></div></div></li>
									<li><div class="vbox" id="stage2S112"><div class="velement">112</div><div>S<span class="sub">112</span></div></div></li>
									<li><div class="vbox" id="stage2S113"><div class="velement">113</div><div>S<span class="sub">113</span></div></div></li>
									<li><div class="vbox" id="stage2S114"><div class="velement">114</div><div>S<span class="sub">114</span></div></div></li>
									<li><div class="vbox" id="stage2S115"><div class="velement">115</div><div>S<span class="sub">115</span></div></div></li>
									<li><div class="vbox" id="stage2S116"><div class="velement">116</div><div>S<span class="sub">116</span></div></div></li>
									<li><div class="vbox" id="stage2S117"><div class="velement">117</div><div>S<span class="sub">117</span></div></div></li>
									<li><div class="vbox" id="stage2S118"><div class="velement">118</div><div>S<span class="sub">118</span></div></div></li>
									<li><div class="vbox" id="stage2S119"><div class="velement">119</div><div>S<span class="sub">119</span></div></div></li>
									<li><div class="vbox" id="stage2S120"><div class="velement">120</div><div>S<span class="sub">120</span></div></div></li>
									<li><div class="vbox" id="stage2S121"><div class="velement">121</div><div>S<span class="sub">121</span></div></div></li>
									<li><div class="vbox" id="stage2S122"><div class="velement">122</div><div>S<span class="sub">122</span></div></div></li>
									<li><div class="vbox" id="stage2S123"><div class="velement">123</div><div>S<span class="sub">123</span></div></div></li>
									<li><div class="vbox" id="stage2S124"><div class="velement">124</div><div>S<span class="sub">124</span></div></div></li>
									<li><div class="vbox" id="stage2S125"><div class="velement">125</div><div>S<span class="sub">125</span></div></div></li>
									<li><div class="vbox" id="stage2S126"><div class="velement">126</div><div>S<span class="sub">126</span></div></div></li>
									<li><div class="vbox" id="stage2S127"><div class="velement">127</div><div>S<span class="sub">127</span></div></div></li>
									<li><div class="vbox" id="stage2S128"><div class="velement">128</div><div>S<span class="sub">128</span></div></div></li>
									<li><div class="vbox" id="stage2S129"><div class="velement">129</div><div>S<span class="sub">129</span></div></div></li>
									<li><div class="vbox" id="stage2S130"><div class="velement">130</div><div>S<span class="sub">130</span></div></div></li>
									<li><div class="vbox" id="stage2S131"><div class="velement">131</div><div>S<span class="sub">131</span></div></div></li>
									<li><div class="vbox" id="stage2S132"><div class="velement">132</div><div>S<span class="sub">132</span></div></div></li>
									<li><div class="vbox" id="stage2S133"><div class="velement">133</div><div>S<span class="sub">133</span></div></div></li>
									<li><div class="vbox" id="stage2S134"><div class="velement">134</div><div>S<span class="sub">134</span></div></div></li>
									<li><div class="vbox" id="stage2S135"><div class="velement">135</div><div>S<span class="sub">135</span></div></div></li>
									<li><div class="vbox" id="stage2S136"><div class="velement">136</div><div>S<span class="sub">136</span></div></div></li>
									<li><div class="vbox" id="stage2S137"><div class="velement">137</div><div>S<span class="sub">137</span></div></div></li>
									<li><div class="vbox" id="stage2S138"><div class="velement">138</div><div>S<span class="sub">138</span></div></div></li>
									<li><div class="vbox" id="stage2S139"><div class="velement">139</div><div>S<span class="sub">139</span></div></div></li>
									<li><div class="vbox" id="stage2S140"><div class="velement">140</div><div>S<span class="sub">140</span></div></div></li>
									<li><div class="vbox" id="stage2S141"><div class="velement">141</div><div>S<span class="sub">141</span></div></div></li>
									<li><div class="vbox" id="stage2S142"><div class="velement">142</div><div>S<span class="sub">142</span></div></div></li>
									<li><div class="vbox" id="stage2S143"><div class="velement">143</div><div>S<span class="sub">143</span></div></div></li>
									<li><div class="vbox" id="stage2S144"><div class="velement">144</div><div>S<span class="sub">144</span></div></div></li>
									<li><div class="vbox" id="stage2S145"><div class="velement">145</div><div>S<span class="sub">145</span></div></div></li>
									<li><div class="vbox" id="stage2S146"><div class="velement">146</div><div>S<span class="sub">146</span></div></div></li>
									<li><div class="vbox" id="stage2S147"><div class="velement">147</div><div>S<span class="sub">147</span></div></div></li>
									<li><div class="vbox" id="stage2S148"><div class="velement">148</div><div>S<span class="sub">148</span></div></div></li>
									<li><div class="vbox" id="stage2S149"><div class="velement">149</div><div>S<span class="sub">149</span></div></div></li>
									<li><div class="vbox" id="stage2S150"><div class="velement">150</div><div>S<span class="sub">150</span></div></div></li>
									<li><div class="vbox" id="stage2S151"><div class="velement">151</div><div>S<span class="sub">151</span></div></div></li>
									<li><div class="vbox" id="stage2S152"><div class="velement">152</div><div>S<span class="sub">152</span></div></div></li>
									<li><div class="vbox" id="stage2S153"><div class="velement">153</div><div>S<span class="sub">153</span></div></div></li>
									<li><div class="vbox" id="stage2S154"><div class="velement">154</div><div>S<span class="sub">154</span></div></div></li>
									<li><div class="vbox" id="stage2S155"><div class="velement">155</div><div>S<span class="sub">155</span></div></div></li>
									<li><div class="vbox" id="stage2S156"><div class="velement">156</div><div>S<span class="sub">156</span></div></div></li>
									<li><div class="vbox" id="stage2S157"><div class="velement">157</div><div>S<span class="sub">157</span></div></div></li>
									<li><div class="vbox" id="stage2S158"><div class="velement">158</div><div>S<span class="sub">158</span></div></div></li>
									<li><div class="vbox" id="stage2S159"><div class="velement">159</div><div>S<span class="sub">159</span></div></div></li>
									<li><div class="vbox" id="stage2S160"><div class="velement">160</div><div>S<span class="sub">160</span></div></div></li>
									<li><div class="vbox" id="stage2S161"><div class="velement">161</div><div>S<span class="sub">161</span></div></div></li>
									<li><div class="vbox" id="stage2S162"><div class="velement">162</div><div>S<span class="sub">162</span></div></div></li>
									<li><div class="vbox" id="stage2S163"><div class="velement">163</div><div>S<span class="sub">163</span></div></div></li>
									<li><div class="vbox" id="stage2S164"><div class="velement">164</div><div>S<span class="sub">164</span></div></div></li>
									<li><div class="vbox" id="stage2S165"><div class="velement">165</div><div>S<span class="sub">165</span></div></div></li>
									<li><div class="vbox" id="stage2S166"><div class="velement">166</div><div>S<span class="sub">166</span></div></div></li>
									<li><div class="vbox" id="stage2S167"><div class="velement">167</div><div>S<span class="sub">167</span></div></div></li>
									<li><div class="vbox" id="stage2S168"><div class="velement">168</div><div>S<span class="sub">168</span></div></div></li>
									<li><div class="vbox" id="stage2S169"><div class="velement">169</div><div>S<span class="sub">169</span></div></div></li>
									<li><div class="vbox" id="stage2S170"><div class="velement">170</div><div>S<span class="sub">170</span></div></div></li>
									<li><div class="vbox" id="stage2S171"><div class="velement">171</div><div>S<span class="sub">171</span></div></div></li>
									<li><div class="vbox" id="stage2S172"><div class="velement">172</div><div>S<span class="sub">172</span></div></div></li>
									<li><div class="vbox" id="stage2S173"><div class="velement">173</div><div>S<span class="sub">173</span></div></div></li>
									<li><div class="vbox" id="stage2S174"><div class="velement">174</div><div>S<span class="sub">174</span></div></div></li>
									<li><div class="vbox" id="stage2S175"><div class="velement">175</div><div>S<span class="sub">175</span></div></div></li>
									<li><div class="vbox" id="stage2S176"><div class="velement">176</div><div>S<span class="sub">176</span></div></div></li>
									<li><div class="vbox" id="stage2S177"><div class="velement">177</div><div>S<span class="sub">177</span></div></div></li>
									<li><div class="vbox" id="stage2S178"><div class="velement">178</div><div>S<span class="sub">178</span></div></div></li>
									<li><div class="vbox" id="stage2S179"><div class="velement">179</div><div>S<span class="sub">179</span></div></div></li>
									<li><div class="vbox" id="stage2S180"><div class="velement">180</div><div>S<span class="sub">180</span></div></div></li>
									<li><div class="vbox" id="stage2S181"><div class="velement">181</div><div>S<span class="sub">181</span></div></div></li>
									<li><div class="vbox" id="stage2S182"><div class="velement">182</div><div>S<span class="sub">182</span></div></div></li>
									<li><div class="vbox" id="stage2S183"><div class="velement">183</div><div>S<span class="sub">183</span></div></div></li>
									<li><div class="vbox" id="stage2S184"><div class="velement">184</div><div>S<span class="sub">184</span></div></div></li>
									<li><div class="vbox" id="stage2S185"><div class="velement">185</div><div>S<span class="sub">185</span></div></div></li>
									<li><div class="vbox" id="stage2S186"><div class="velement">186</div><div>S<span class="sub">186</span></div></div></li>
									<li><div class="vbox" id="stage2S187"><div class="velement">187</div><div>S<span class="sub">187</span></div></div></li>
									<li><div class="vbox" id="stage2S188"><div class="velement">188</div><div>S<span class="sub">188</span></div></div></li>
									<li><div class="vbox" id="stage2S189"><div class="velement">189</div><div>S<span class="sub">189</span></div></div></li>
									<li><div class="vbox" id="stage2S190"><div class="velement">190</div><div>S<span class="sub">190</span></div></div></li>
									<li><div class="vbox" id="stage2S191"><div class="velement">191</div><div>S<span class="sub">191</span></div></div></li>
									<li><div class="vbox" id="stage2S192"><div class="velement">192</div><div>S<span class="sub">192</span></div></div></li>
									<li><div class="vbox" id="stage2S193"><div class="velement">193</div><div>S<span class="sub">193</span></div></div></li>
									<li><div class="vbox" id="stage2S194"><div class="velement">194</div><div>S<span class="sub">194</span></div></div></li>
									<li><div class="vbox" id="stage2S195"><div class="velement">195</div><div>S<span class="sub">195</span></div></div></li>
									<li><div class="vbox" id="stage2S196"><div class="velement">196</div><div>S<span class="sub">196</span></div></div></li>
									<li><div class="vbox" id="stage2S197"><div class="velement">197</div><div>S<span class="sub">197</span></div></div></li>
									<li><div class="vbox" id="stage2S198"><div class="velement">198</div><div>S<span class="sub">198</span></div></div></li>
									<li><div class="vbox" id="stage2S199"><div class="velement">199</div><div>S<span class="sub">199</span></div></div></li>
									<li><div class="vbox" id="stage2S200"><div class="velement">200</div><div>S<span class="sub">200</span></div></div></li>
									<li><div class="vbox" id="stage2S201"><div class="velement">201</div><div>S<span class="sub">201</span></div></div></li>
									<li><div class="vbox" id="stage2S202"><div class="velement">202</div><div>S<span class="sub">202</span></div></div></li>
									<li><div class="vbox" id="stage2S203"><div class="velement">203</div><div>S<span class="sub">203</span></div></div></li>
									<li><div class="vbox" id="stage2S204"><div class="velement">204</div><div>S<span class="sub">204</span></div></div></li>
									<li><div class="vbox" id="stage2S205"><div class="velement">205</div><div>S<span class="sub">205</span></div></div></li>
									<li><div class="vbox" id="stage2S206"><div class="velement">206</div><div>S<span class="sub">206</span></div></div></li>
									<li><div class="vbox" id="stage2S207"><div class="velement">207</div><div>S<span class="sub">207</span></div></div></li>
									<li><div class="vbox" id="stage2S208"><div class="velement">208</div><div>S<span class="sub">208</span></div></div></li>
									<li><div class="vbox" id="stage2S209"><div class="velement">209</div><div>S<span class="sub">209</span></div></div></li>
									<li><div class="vbox" id="stage2S210"><div class="velement">210</div><div>S<span class="sub">210</span></div></div></li>
									<li><div class="vbox" id="stage2S211"><div class="velement">211</div><div>S<span class="sub">211</span></div></div></li>
									<li><div class="vbox" id="stage2S212"><div class="velement">212</div><div>S<span class="sub">212</span></div></div></li>
									<li><div class="vbox" id="stage2S213"><div class="velement">213</div><div>S<span class="sub">213</span></div></div></li>
									<li><div class="vbox" id="stage2S214"><div class="velement">214</div><div>S<span class="sub">214</span></div></div></li>
									<li><div class="vbox" id="stage2S215"><div class="velement">215</div><div>S<span class="sub">215</span></div></div></li>
									<li><div class="vbox" id="stage2S216"><div class="velement">216</div><div>S<span class="sub">216</span></div></div></li>
									<li><div class="vbox" id="stage2S217"><div class="velement">217</div><div>S<span class="sub">217</span></div></div></li>
									<li><div class="vbox" id="stage2S218"><div class="velement">218</div><div>S<span class="sub">218</span></div></div></li>
									<li><div class="vbox" id="stage2S219"><div class="velement">219</div><div>S<span class="sub">219</span></div></div></li>
									<li><div class="vbox" id="stage2S220"><div class="velement">220</div><div>S<span class="sub">220</span></div></div></li>
									<li><div class="vbox" id="stage2S221"><div class="velement">221</div><div>S<span class="sub">221</span></div></div></li>
									<li><div class="vbox" id="stage2S222"><div class="velement">222</div><div>S<span class="sub">222</span></div></div></li>
									<li><div class="vbox" id="stage2S223"><div class="velement">223</div><div>S<span class="sub">223</span></div></div></li>
									<li><div class="vbox" id="stage2S224"><div class="velement">224</div><div>S<span class="sub">224</span></div></div></li>
									<li><div class="vbox" id="stage2S225"><div class="velement">225</div><div>S<span class="sub">225</span></div></div></li>
									<li><div class="vbox" id="stage2S226"><div class="velement">226</div><div>S<span class="sub">226</span></div></div></li>
									<li><div class="vbox" id="stage2S227"><div class="velement">227</div><div>S<span class="sub">227</span></div></div></li>
									<li><div class="vbox" id="stage2S228"><div class="velement">228</div><div>S<span class="sub">228</span></div></div></li>
									<li><div class="vbox" id="stage2S229"><div class="velement">229</div><div>S<span class="sub">229</span></div></div></li>
									<li><div class="vbox" id="stage2S230"><div class="velement">230</div><div>S<span class="sub">230</span></div></div></li>
									<li><div class="vbox" id="stage2S231"><div class="velement">231</div><div>S<span class="sub">231</span></div></div></li>
									<li><div class="vbox" id="stage2S232"><div class="velement">232</div><div>S<span class="sub">232</span></div></div></li>
									<li><div class="vbox" id="stage2S233"><div class="velement">233</div><div>S<span class="sub">233</span></div></div></li>
									<li><div class="vbox" id="stage2S234"><div class="velement">234</div><div>S<span class="sub">234</span></div></div></li>
									<li><div class="vbox" id="stage2S235"><div class="velement">235</div><div>S<span class="sub">235</span></div></div></li>
									<li><div class="vbox" id="stage2S236"><div class="velement">236</div><div>S<span class="sub">236</span></div></div></li>
									<li><div class="vbox" id="stage2S237"><div class="velement">237</div><div>S<span class="sub">237</span></div></div></li>
									<li><div class="vbox" id="stage2S238"><div class="velement">238</div><div>S<span class="sub">238</span></div></div></li>
									<li><div class="vbox" id="stage2S239"><div class="velement">239</div><div>S<span class="sub">239</span></div></div></li>
									<li><div class="vbox" id="stage2S240"><div class="velement">240</div><div>S<span class="sub">240</span></div></div></li>
									<li><div class="vbox" id="stage2S241"><div class="velement">241</div><div>S<span class="sub">241</span></div></div></li>
									<li><div class="vbox" id="stage2S242"><div class="velement">242</div><div>S<span class="sub">242</span></div></div></li>
									<li><div class="vbox" id="stage2S243"><div class="velement">243</div><div>S<span class="sub">243</span></div></div></li>
									<li><div class="vbox" id="stage2S244"><div class="velement">244</div><div>S<span class="sub">244</span></div></div></li>
									<li><div class="vbox" id="stage2S245"><div class="velement">245</div><div>S<span class="sub">245</span></div></div></li>
									<li><div class="vbox" id="stage2S246"><div class="velement">246</div><div>S<span class="sub">246</span></div></div></li>
									<li><div class="vbox" id="stage2S247"><div class="velement">247</div><div>S<span class="sub">247</span></div></div></li>
									<li><div class="vbox" id="stage2S248"><div class="velement">248</div><div>S<span class="sub">248</span></div></div></li>
									<li><div class="vbox" id="stage2S249"><div class="velement">249</div><div>S<span class="sub">249</span></div></div></li>
									<li><div class="vbox" id="stage2S250"><div class="velement">250</div><div>S<span class="sub">250</span></div></div></li>
									<li><div class="vbox" id="stage2S251"><div class="velement">251</div><div>S<span class="sub">251</span></div></div></li>
									<li><div class="vbox" id="stage2S252"><div class="velement">252</div><div>S<span class="sub">252</span></div></div></li>

								</ul> 
						</div>
						<div class="vbox" id="stage2S253"><div class="velement">253</div><div>S<span class="sub">253</span></div></div>
						<div class="vbox" id="stage2S254"><div class="velement">254</div><div>S<span class="sub">254</span></div></div>
						<div class="vbox" id="stage2S255"><div class="velement">255</div><div>S<span class="sub">255</span></div></div>
						</div>
						<div class="velement zindex2" id="swapslot1"></div>
						<div class="velement zindex2" id="swapslot2"></div>
					
					<div class="clear"> </div>
					
					

					<p>Temporary vector T (initiated): </p>	
					<div id='tvalue2' name='tvalue2' class="zindex1"></div>
					
					<script type="text/javascript">
						fillt("tvalue2", true);
						var initiate = document.getElementById("initiate");
			    		initiate.addEventListener("click", function(){fillt("tvalue2", true);},  false);    
					</script>

					<div class="clear"> </div>	

				</div>

				<script>
					var stage2counter = document.getElementsByClassName("stage2counter")[0];
					var stage2step1 = document.getElementsByClassName("stage2step1")[0];
					var stage2step2 = document.getElementsByClassName("stage2step2")[0];
					var stage2step3 = document.getElementsByClassName("stage2step3")[0];
					var stage2step4 = document.getElementsByClassName("stage2step4")[0];
					var stage2step5 = document.getElementsByClassName("stage2step5")[0];
					var stage2step6 = document.getElementsByClassName("stage2step6")[0];
					var stage2step7 = document.getElementsByClassName("stage2step7")[0];
					var stage2step8 = document.getElementsByClassName("stage2step8")[0];
					var stage2step9 = document.getElementsByClassName("stage2step9")[0];
					var stage2step10 = document.getElementsByClassName("stage2step10")[0];
					var stage2items = [stage2counter, stage2step1, stage2step2, stage2step3, stage2step4, stage2step5, stage2step6, stage2step7, stage2step8, stage2step9, stage2step10];
					var stage2anims = ["stage2counteranim", "stage2highlight1s", "stage2highlight1s", "stage2highlight3s", "stage2highlight2s"];
					var togglebutton = document.getElementById("togglebutton");
					var autoplay = false;
					var roundcounter = parseInt(stage2counter.textContent); 
					var stepcounter = 0;  // step 1 to 4, back and forth
					var tempvari = 0;   // used in stage2step10i(),  tracks temporary variable i
					var swapstart = false;  // checks if step9swap starts
					var stage2step9siid = "stage2S" + document.getElementById("ivalue1").textContent;
					var stage2step9sjid = "stage2S" + document.getElementById("jvalue1").textContent;
					var stage2step9si = document.getElementById(stage2step9siid).firstChild;
					var stage2step9sj = document.getElementById(stage2step9sjid).firstChild;
					var stage2step9tempi = parseInt(stage2step9si.textContent);
					var stage2step9tempj = parseInt(stage2step9sj.textContent);


					document.getElementById("stage2vectorti").innerHTML = document.getElementById("stage2T0").firstChild.textContent;

					function scrollanim(scrollclassname, elementindex, playanim){
						var element = document.getElementById(elementindex).firstChild;				

						function coloranim(){
							stage2addanim(true, element, playanim);
							stage2lineanimrunning(true, element);
							element.addEventListener(
								"webkitAnimationEnd", 
								function(){
									if (element.classList.contains(playanim)){ element.classList.remove(playanim);}
								} );	
						};
						hscrollto(scrollclassname, elementindex, coloranim);	
					}

					function hscrollto(scrollclassname, elementindex, callback){
						var elementoffset = $("#"+elementindex).offset().left ;
						var defaultSoffset = 0;
						if( scrollclassname == "hscrollS"){
							defaultSoffset = $("#stage2S7").first().offset().left;}
						else if( scrollclassname == "hscrollT"){
							defaultSoffset = $("#stage2T7").first().offset().left;}

						if( callback == false ) {
							$("."+scrollclassname).animate( { scrollLeft:(elementoffset - defaultSoffset) }, 500);
						} else {
							$("."+scrollclassname).animate( { scrollLeft:(elementoffset - defaultSoffset) }, 500, callback());
						}							
					}

					function stage2step3j2(){
						var jvalue1 = parseInt(document.getElementById("jvalue1").textContent);
						var jvalue2 = parseInt(document.getElementById("jvalue2").textContent);
						$("#jvalue2").prop('number', jvalue1);  // change number by 1
						$("#jvalue2").animateNumber( { number: jvalue1 }, 'linear', stage2step3i() );
					}

					function stage2step3i(){
						var ivalue1 = parseInt(document.getElementById("ivalue1").textContent);
						var ivalue2 = parseInt(document.getElementById("ivalue2").textContent);
						$("#ivalue2").prop('number', ivalue2);
						$("#ivalue2").animateNumber( { number: ivalue1 }, "linear" );
						$("#ivalue3").prop('number', ivalue2);
						$("#ivalue3").animateNumber( { number: ivalue1 }, "linear" );
						var indexSi = "stage2S"+ivalue1; 
						var elementSi = document.getElementById(indexSi);
						var indexTi = "stage2T"+ivalue1;
						var elementTi = document.getElementById(indexTi);
						scrollanim("hscrollS", indexSi, "vectorred");
						scrollanim("hscrollT", indexTi, "vectorred");
						elementSi.addEventListener(
							"webkitAnimationStart", 
							stage2step3SiTi(),
							 true
						);
					}

					function stage2step3SiTi(){
						var ivalue1 = document.getElementById("ivalue1").textContent;
						var si = parseInt(document.getElementById("stage2S" + ivalue1).firstChild.textContent);
						var ti = parseInt(document.getElementById("stage2T" + ivalue1).firstChild.textContent);		
						$("#stage2vectorsi").prop('number', si); 
						$("#stage2vectorsi").delay(1000).animateNumber( { number: si }, 'linear');
						$("#stage2vectorti").prop('number', ti); 
						$("#stage2vectorti").delay(1000).animateNumber( { number: ti }, 'linear');
					}

					function stage2step4j3(){
						var jvalue1 = document.getElementById("jvalue1").textContent;
						var ivalue3 = document.getElementById("ivalue3").textContent;		
						$("#jvalue3").prop('number', jvalue1); 
						$("#jvalue3").animateNumber( { number: jvalue1 }, 'linear');
					}

					function stage2step5j4part1(){
						var jvalue1 = document.getElementById("jvalue1").textContent;
						var ivalue1 = document.getElementById("ivalue1").textContent;
						var si = document.getElementById("stage2S" + ivalue1).firstChild.textContent;
						var ti = document.getElementById("stage2T" + ivalue1).firstChild.textContent;
						var jvalue4 = (parseInt(jvalue1) + parseInt(si) + parseInt(ti) ) % 256;
						$("#jvalue4").prop('number', jvalue4);
						$("#jvalue4").animateNumber( { number: jvalue4 }, "linear", stage2step5j4part2(jvalue1, jvalue4) );

					}

					function stage2step5j4part2(jvalue1, jvalue4){
						$("#jvalue1").prop('number', jvalue1);
						$("#jvalue1").animateNumber( { number:jvalue4 }, "linear");
					}

					function stage2step6j(){
						var sindex = parseInt($("#jvalue4").text()) ;
						$("#jvalue5").prop('number', sindex);
						$("#jvalue5").animateNumber( { number:sindex }, "linear", stage2Sj(sindex));
					}

					function stage2Sj(sindex){
						var sj = document.getElementById("stage2S" + sindex).firstChild.textContent;
						$("#step6Sj").prop('number', sj);
						$("#step6Sj").animateNumber( { number:sj }, "linear");
					}

					function stage2step8i(){
						var ivalue4 = parseInt($("#ivalue1").text()) ;
						$("#ivalue4").prop('number', ivalue4);
						$("#ivalue4").animateNumber( { number: ivalue4 }, "linear", stage2Si(ivalue4));
					}

					function stage2Si(sindex){
						var si =  document.getElementById("stage2S" + sindex).firstChild.textContent;
						$("#step6Si").prop('number', si);
						$("#step6Si").animateNumber( { number:si }, "linear");
					}

					function stage2step9i(){
						var ivalue5 = parseInt($("#ivalue1").text()) ;
						$("#ivalue5").prop('number', ivalue5);
						$("#ivalue5").animateNumber( { number:ivalue5 }, "linear", stage2step9j());
					}

					function stage2step9j(){
						var jvalue6 = parseInt($("#jvalue4").text()) ;
						$("#jvalue6").prop('number', jvalue6);
						$("#jvalue6").animateNumber( { number:jvalue6 }, "linear", stage2swapstep1());
					}

					function swapElements(el1, el2) {
    					// create marker element and insert it where obj1 is
    					var temp = document.createElement("div");
					    el1.parentNode.insertBefore(temp, el1);

					    // move obj1 to right before obj2
					    el2.parentNode.insertBefore(el1, el2);

					    // move obj2 to right before where obj1 used to be
					    temp.parentNode.insertBefore(el2, temp);

					    // remove temporary marker node
					    temp.parentNode.removeChild(temp);
					}

					function stage2swapstep2(animobject, el1, el2){
						animobject.addEventListener('finish', function(){
							swapElements(el1, el2);
						});
					}

					function stage2swapstep1(){
						if(!swapstart){
							var siid = document.getElementById("ivalue1").textContent;
							stage2step9siid = "stage2S" + siid;  // id: stage2Si
							stage2step9sjid = "stage2S" + document.getElementById("jvalue1").textContent;  // id: stage2Sj
							stage2step9si = document.getElementById(stage2step9siid).firstChild;           // object S[i]
							stage2step9sj = document.getElementById(stage2step9sjid).firstChild;	       // object: S[j]
							stage2step9sivalue = parseInt(stage2step9si.textContent);                      // S[i] numeric value
							stage2step9sjvalue = parseInt(stage2step9sj.textContent);                      // S[j] numeric value
							var sileft = $("#" + stage2step9siid).first().offset().left;            
							var sjleft = $("#" + stage2step9sjid).first().offset().left;  
							var swapslot1 = document.getElementById("swapslot1") ;                     // swapslot1 object
							var swapslot2 = document.getElementById("swapslot2") ;                     // swapslot2 object
							var swapslot1left = $("#swapslot1").offset().left;                         // swapslot1 leftOffset
							var swapslot2left = $("#swapslot2").offset().left;                         // swapslot2 leftOffset
							var defaultSoffset = $("#stage2S7").first().offset().left;
							var tempdistance = 0; 


							if ( siid <= 7 ) {
								$("#swapslot1").offset({ left:sileft + 5 });
								tempdistance = defaultSoffset - sileft ;
							}

							if ( siid >= 249 ) {
								$("#swapslot1").offset({ left:sileft + 5 });
								tempdistance = defaultSoffset - sileft ;
							}
							 
							swapslot1.innerHTML = stage2step9sivalue;
							stage2step9si.style.opacity = "0";
							swapslot1.style.opacity = "1";
							
							var swapslot1anim1 = swapslot1.animate( [
								{
									transform:"translateY(0px) translateX(0px)"
								},
								{
									transform:"translateY(0px) translateX(0px)"
								},
								{
									transform:"translateY(-50px) translateX(0px)"
								}, {
									transform:"translateY(-50px) translateX("  +  tempdistance  + "px)"
								}], {
									duration: 1000,
									direction: "normal",
									fill: "forwards",
									easing:"linear"
								}
							);

							var swapslot2anim1 = swapslot2.animate(
								[{
									transform:"translateY(0px) translateX(0px)"
								}, {
									transform:"translateY(0px) translateX(0px)"
								}, {
									transform:"translateY(50px) translateX(0px)"
								}, {
									transform:"translateY(50px) translateX(50px)"
								}],{
									duration: 1000,
									direction:"normal",
									fill:"forwards",
									easing:"linear"
								});

							swapslot2anim1.pause();
								
							swapslot1anim1.addEventListener("finish", function(){scrolltosj();});

							function scrolltosj(){									
								$(".hscrollS").first().animate(
									{ scrollLeft:( sjleft - defaultSoffset) }, 
									500, 
									function(){
										sjleft = $("#" + stage2step9sjid).first().offset().left;
										$("#swapslot2").offset({left: sjleft + 5 });
										swapslot2.innerHTML = stage2step9sjvalue;
										stage2step9sj.style.opacity = "0";
										swapslot2.style.opacity = "1";
										swapslot2anim1.play();
										} 
									);
								};
			
							swapslot2anim1.addEventListener("finish", function(){swaptosj();});


							function swaptosj(){
								var swapslot1anim2 = swapslot1.animate(
									[ {
										transform: "translateY(-50px) translateX("  +  tempdistance   + "px)"
									},{
										transform: "translateY(-50px) translateX("  +  tempdistance   + "px)"
									},{
										transform: "translateY(0px) translateX("  +  tempdistance   + "px)"
									} ], {
										duration: 1000,
										fill:"forwards"
									});
								
								swapslot1anim2.addEventListener("finish", function(){
									stage2step9sj.innerHTML = stage2step9sivalue;
									stage2step9sj.style.opacity = "1";
									swapslot1.style.opacity = "0";
									scrolltosi();});
							};

							function scrolltosi(){
								$(".hscrollS").first().delay(200).animate(
									{ scrollLeft:( sileft - defaultSoffset) }, 
									500,
									function(){
										sileft = $("#" + stage2step9siid).first().offset().left;
										swapslot2left = $("#swapslot2").offset().left;
										var temp2 = sileft - swapslot2left + 5 + 50 ; 
										var swapslot2anim2 = swapslot2.animate(
											[ {
												transform: "translateY(50px) translateX(50px)"
											},{
												transform: "translateY(50px) translateX(50px)"
											},{
												transform: "translateY(50px) translateX("+ temp2 +"px)"
											},{
												transform: "translateY(0px) translateX("+ temp2 +"px)"
											}],{
												duration: 1000,
												fill:"forwards"
											}
										);
										swapslot2anim2.addEventListener("finish", 
											function(){
												stage2step9si.innerHTML = stage2step9sjvalue;
												stage2step9si.style.opacity = "1";
												swapslot2.style.opacity = "0";	
												swapslot1.animate([{
													transform: " translateX("  +  tempdistance   + "px)"
												}, {
													transform: " translateX(0px)"
												}],{
													duration: 100,
													fill:"forwards"
												});
												//$("#swapslot1").offset({left: defaultSoffset });
												
										} );
									}
								)
							};
							}
					}





					function stage2step10i(){
						var beforestep10 = tempvari;
						// condition necessary, pause/run may call this function multiple times
						if(tempvari == roundcounter){	tempvari += 1; }   
						$("#ivalue1").prop('number', beforestep10);
						$("#ivalue1").animateNumber( { number: tempvari }, "slow");
					}

					function stage2addanim(add, itemx, animx){
						if(add && (!itemx.classList.contains(animx) )) { 
							itemx.classList.add(animx); 
						}
						else if ((!add) && itemx.classList.contains(animx) ) { 
								itemx.classList.remove(animx); 
								stepincre();
						}
					}

					function stage2lineanimrunning(running, itemx){   
						if(running) { itemx.style.animationPlayState = "running"; }
						else { itemx.style.animationPlayState = "paused"; }
					}	

					//  current anim ends, remove its anim-triggering class. clean element for next round
					function checkanimend(itemx, animx){ itemx.addEventListener("webkitAnimationEnd", function(){stage2addanim(false, itemx, animx); }, true); }

					// incre stepcounter, move on to next step
					// call pauserunanim which calls itself, form a loop
					function stepincre(){ stepcounter = stepcounter + 1; pauserunanim(); }

					function pauserunanim(){    // loop, pause/run the stage2 animation
						if ( stepcounter >= 11 ){ 
							stepcounter = 0;   
							roundcounter += 1;
							if( roundcounter >=256){
								alert("Initial Permutation of S is done.");
								return;
							} 
							stage2counter.innerHTML = roundcounter;
						}
						var playitem = stage2items[stepcounter];
						if(autoplay) {							
							if ( stepcounter <= 4) { var playanim = stage2anims[stepcounter];}
							else if ( stepcounter == 9) { var playanim = "stage2highlight5s";}
							else {	var playanim = stage2anims[1];	}
							stage2addanim(true, playitem, playanim);   // add paused anim to CLEAN el
							stage2lineanimrunning(true, playitem);     // set anim running
							//---special effects for j, i, Sj, Si calculations---
							switch(stepcounter){
								case 3: stage2step3j2(); break;
								case 4: stage2step4j3(); break;
								case 5: stage2step5j4part1(); break;
								case 6: stage2step6j(); break;
								case 8: stage2step8i(); break;
								case 9: stage2step9i(); break;
								case 10: swapstart = false;stage2step10i(); break;
								default: break;
							}
							//------
							// remove anim, move to next step
							checkanimend(playitem, playanim);  
						}
						else {
							stage2lineanimrunning(false, playitem);	
							if(stepcounter == 3 ){
								var indexi = document.getElementById("ivalue1").textContent;
								var elementSi = document.getElementById( "stage2S"+indexi ).firstChild;
								var elementTi =  document.getElementById( "stage2T"+indexi ).firstChild;
								if( elementSi.classList.contains("vectorred") ){
									stage2lineanimrunning(false, elementSi);	
								}
								if( elementTi.classList.contains("vectorred") ){
									stage2lineanimrunning(false, elementTi);	
								}
							}
						}
					}
					
					function togglebuttonvaluechange() {	// respond to user pause/play the animation

						if (!autoplay){ 							
							document.getElementById("togglebutton").innerHTML = "PAUSE"; 
							autoplay = true;
							pauserunanim();

							}
							
						else if (autoplay){
							document.getElementById("togglebutton").innerHTML = "PLAY";
							autoplay = false;
							pauserunanim();	
							}
					}

					togglebutton.addEventListener("click", function(){togglebuttonvaluechange()}, false);
				</script>

				
			</div>

		</div>

		<div id="section3">
			<h1>Stream Generation</h1>

			<div class="gridcontainer2">
				<div class="griditem1">

					<p>Initial condition: </p>
					<p>i, j = 0</p>

					<p>Generation of <a class="srncount">1st</a> pseudorandom bit:</p>
					<h3> Step 1:</h3>
					<p>i = (<a class="ivalue">i</a> + 1) mod 256 <br>
						i = <a class="ivaluenext">i</a> <br><br>
						j = (j + S[i]) mod 256 <br>
						j = (<a class="jvalue">0</a> + <a class="sivalue">1</a>) mod 256 <br>
						j = <a class="jvaluenext">j</a>
					</p>

					<h3> Step 2:</h3>
					<p>
						S[i] = <a class="sivalue"></a>, S[j]= <a class="sjvalue"></a> <br><br>
						Swap S[i], S[j] <br><br>
						S[i] = <a class="sivaluenext"></a>, S[j]= <a class="sjvaluenext"></a> <br>
					</p>

					<h3> Step 3:</h3>

					<p>
						n = (S[i] + S[j]) mod 256 <br>
						n = <a class="sivaluenext">x</a> + <a class="sjvaluenext">y</a> <br>
						n = <a class="nvalue"></a> <br>
						byte-key = S[n] = S[<a class="nvalue">n</a>] <br>
						byte-key = <a class="bkvalue">0</a>		
					</p>

					<div class="bottomspace"></div>
				</div>

			<div class="griditem2"> 
				<p>Vector S:</p>
			</div>

			</div>

			<div class="bpf">
				<button type="button" id="backward">BACKWARD</button>
				<button type="button" id="pause">PAUSE</button>
				<button type="button" id="forward">FORWARD</button>
			</div>

		</div>



	</body>	


</html>


